{% extends "dashboard/dashboard_base.html" %}

{% block content %}
<h1>Mon Historique de Réservations</h1>

{% for r in reservations %}
<div class="card mb-3">
    <div class="card-header d-flex justify-content-between">
        <strong>Match : {{ r.programme }}</strong>
        <span>Réservé le : {{ r.date_reservation|date:"d/m/Y" }}</span>
    </div>
    <div class="card-body">
        <p><strong>Date du match :</strong> {{ r.programme.date|date:"d F Y à H:i" }}</p>
        <p><strong>Stade :</strong> {{ r.programme.stadium }}</p>
        <p><strong>Nombre de places :</strong> {{ r.nombre_billets }}</p>
        {% if r.paiement %}
            <p><strong>Statut :</strong> <span class="badge bg-success">Confirmé</span></p>
            <p><strong>Montant payé :</strong> {{ r.paiement.montant }} €</p>
        {% else %}
            <p><strong>Statut :</strong> <span class="badge bg-danger">Paiement échoué ou en attente</span></p>
        {% endif %}
    </div>
</div>
{% empty %}
<p>Vous n'avez encore effectué aucune réservation.</p>
{% endfor %}
{% endblock %}